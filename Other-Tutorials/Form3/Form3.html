<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form 3</title>
</head>

<body>
  <div class="contact-container">
    <!-- This is a contact form that uses Web3Forms to submit data -->
    <form method="POST" id="form" class="contact-left">
      <div class="contact-left-title">
        <h2>Get in touch</h2>
        <hr>
      </div>
      <!-- The access key is used to authenticate the form submission -->
      <input type="hidden" name="access_key" value="28685ee9-f992-46ad-ad9b-2acd570e40b0">
      <input type="text" name="name" placeholder="Your name" class="contact-inputs" required>
      <input type="email" name="email" placeholder="Your Email" class="contact-inputs" required>
      <textarea name="message" placeholder="Your message" class="contact-inputs" required></textarea>
      <button type="submit">Submit <img src="./assets/arrow_icon.png"></button>
    </form>
    <div class="contact-right">
      <img src="./assets/right_img.png">
    </div>
  </div>
  <!-- Result div to display the message after form submission -->
  <div id="result"></div>
  <!-- Result message will be displayed here after form submission -->
  <script>
    const form = document.getElementById('form');
    const result = document.getElementById('result');

    form.addEventListener('submit', function (e) {
      const formData = new FormData(form);
      e.preventDefault();

      const object = Object.fromEntries(formData);
      const json = JSON.stringify(object);

      result.innerHTML = "Please wait..."

      fetch('https://api.web3forms.com/submit', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: json
      })
        .then(async (response) => {
          let json = await response.json();
          if (response.status === 200) {
            result.innerHTML = json.message;
          } else {
            console.log(response);
            result.innerHTML = json.message;
          }
        })
        .catch(error => {
          console.log(error);
          result.innerHTML = "Something went wrong!";
        })
        .then(function () {
          form.reset();
          setTimeout(() => {
            result.style.display = "none";
          }, 3000);
        });
    });
  </script>
</body>

</html>